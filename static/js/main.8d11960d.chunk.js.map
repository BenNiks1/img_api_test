{"version":3,"sources":["components/List/ListItem.jsx","components/Modal/CommentForm.jsx","components/Modal/index.jsx","components/List/index.jsx","App.js","index.js"],"names":["ListItem","url","id","onClick","className","src","alt","CommentForm","useState","name","text","state","setState","hundleSubmit","useCallback","e","preventDefault","axios","post","comment","onSubmit","type","placeholder","value","onChange","evt","target","Modal","modalPhoto","setVidiblePopup","comments","map","dayjs","date","format","List","img","visiblePopup","setModalPhoto","fetch","then","response","json","result","getPhoto","App","setImg","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0KAUeA,EARE,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,IAAKC,EAAkB,EAAlBA,GAAIC,EAAc,EAAdA,QAC3B,OACE,oBAAIC,UAAU,aAAaD,QAASA,EAApC,SACE,qBAAKE,IAAKJ,EAAKK,IAAI,YAAYJ,GAAIA,O,wBC2C1BK,EA7CK,SAAC,GAAY,IAAVL,EAAS,EAATA,GAAS,EACJM,mBAAS,CAAEC,KAAM,GAAIC,KAAM,KADvB,mBACvBC,EADuB,KAChBC,EADgB,KAExBC,EAAeC,uBACnB,SAACC,GACCA,EAAEC,iBACFC,IAAMC,KAAN,4DACuDhB,EADvD,aAEE,CAAEiB,QAAQ,CAACT,KAAKC,EAAMD,MAAOD,KAAKE,EAAMF,SAG5C,CAACP,EAAIS,IAEP,OACE,uBAEES,SAAUP,EACVT,UAAU,oBAHZ,UAKE,uBACEiB,KAAK,OACLC,YAAY,8CACZC,MAAOZ,EAAMF,KACbe,SAAU,SAACC,GAAD,OACRb,EAAS,2BACJD,GADG,IAENF,KAAMgB,EAAIC,OAAOH,YAIvB,uBACEF,KAAK,OACLC,YAAY,wFACZC,MAAOZ,EAAMD,KACbc,SAAU,SAACC,GAAD,OACRb,EAAS,2BACJD,GADG,IAEND,KAAMe,EAAIC,OAAOH,YAIvB,6J,iBCRSI,EA/BD,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,gBAC3B,OACE,sBAAKzB,UAAU,QAAf,UACE,qBACEA,UAAU,iBACVD,QAAS,WACP0B,GAAgB,MAGpB,sBAAKzB,UAAU,eAAf,UACE,qBACEC,IAAKuB,EAAW3B,IAChBK,IAAI,aACJF,UAAU,qBAEZ,cAAC,EAAD,CAAYF,GAAI0B,EAAW1B,KAC3B,oBAAIE,UAAU,kBAAd,SACGwB,EAAWE,SACRF,EAAWE,SAASC,KAAI,SAACZ,GAAD,OACtB,+BACE,sBAAMf,UAAU,uBAAhB,SAAwC4B,IAAMb,EAAQc,MAAMC,OAAO,gBACnE,mBAAG9B,UAAU,uBAAb,SAAqCe,EAAQT,SAFtCS,EAAQjB,OAKnB,cCaCiC,EArCF,SAAC,GAAa,IAAXC,EAAU,EAAVA,IAAU,EACgB5B,oBAAS,GADzB,mBACjB6B,EADiB,KACHR,EADG,OAEYrB,mBAAS,IAFrB,mBAEjBoB,EAFiB,KAELU,EAFK,KAcxB,OACE,qBAAIlC,UAAU,OAAd,UACGgC,EAAIL,KAAI,YAAkB,IAAf9B,EAAc,EAAdA,IAAKC,EAAS,EAATA,GACf,OACE,cAAC,EAAD,CACEC,QAAS,WACP0B,GAAiBQ,GAhBZ,SAACnC,GAChBqC,MAAM,qDAAD,OAAsDrC,IACxDsC,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACLL,EAAcK,MAWRC,CAAS1C,IAGXD,IAAKA,EACLC,GAAIA,GAFCA,MAOVmC,GACC,cAAC,EAAD,CAAOT,WAAYA,EAAYC,gBAAiBA,QCbzCgB,EAnBH,WAAO,IAAD,EACMrC,mBAAS,IADf,mBACT4B,EADS,KACJU,EADI,KAWhB,OATAC,qBAAU,WACRR,MAAM,sDACHC,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACLG,EAAOH,QAEV,IAED,sBAAKvC,UAAU,MAAf,UACE,0CACA,cAAC,EAAD,CAAMgC,IAAKA,Q,MCXjBY,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8d11960d.chunk.js","sourcesContent":["import React from \"react\";\n\nconst ListItem = ({ url, id, onClick }) => {\n  return (\n    <li className=\"list__item\" onClick={onClick}>\n      <img src={url} alt=\"mainPhoto\" id={id} />\n    </li>\n  );\n};\n\nexport default ListItem;\n","import React, { useState, useCallback } from \"react\";\nimport axios from \"axios\";\n\nconst CommentForm = ({ id }) => {\n  const [state, setState] = useState({ name: \"\", text: \"\" });\n  const hundleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      axios.post(\n        `https://boiling-refuge-66454.herokuapp.com/images/${id}/comments`,\n        { comment:{text:state.text}, name:state.name }\n      );\n    },\n    [id, state]\n  );\n  return (\n    <form\n      // method=\"POST\"\n      onSubmit={hundleSubmit}\n      className=\"modal__inner-form\"\n    >\n      <input\n        type=\"text\"\n        placeholder=\"Ваше имя\"\n        value={state.name}\n        onChange={(evt) =>\n          setState({\n            ...state,\n            name: evt.target.value,\n          })\n        }\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Ваш комментарий\"\n        value={state.text}\n        onChange={(evt) =>\n          setState({\n            ...state,\n            text: evt.target.value,\n          })\n        }\n      />\n      <button>Оставить комментарий</button>\n    </form>\n  );\n};\n\nexport default CommentForm;\n","import React from \"react\";\nimport AddComment from \"./CommentForm\";\nimport dayjs from \"dayjs\";\n\nconst Modal = ({ modalPhoto, setVidiblePopup }) => {\n  return (\n    <div className=\"modal\">\n      <div\n        className=\"modal__overlay\"\n        onClick={() => {\n          setVidiblePopup(false);\n        }}\n      ></div>\n      <div className=\"modal__inner\">\n        <img\n          src={modalPhoto.url}\n          alt=\"modalPhoto\"\n          className=\"modal__inner-img\"\n        />\n        <AddComment id={modalPhoto.id}/>\n        <ul className=\"modal__comments\">\n          {modalPhoto.comments\n            ? modalPhoto.comments.map((comment) => (\n                <li key={comment.id}>\n                  <time className='modal__comments-date'>{dayjs(comment.date).format(\"DD.MM.YYYY\")}</time>\n                  <p className='modal__comments-text'>{comment.text}</p>\n                </li>\n              ))\n            : null}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React, { useState } from \"react\";\nimport ListItem from \"./ListItem\";\nimport Modal from \"../Modal\";\n\nconst List = ({ img }) => {\n  const [visiblePopup, setVidiblePopup] = useState(false);\n  const [modalPhoto, setModalPhoto] = useState([]);\n\n  const getPhoto = (id) => {\n    fetch(`https://boiling-refuge-66454.herokuapp.com/images/${id}`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((result) => {\n        setModalPhoto(result);\n      });\n  };\n\n  return (\n    <ul className=\"list\">\n      {img.map(({ url, id }) => {\n        return (\n          <ListItem\n            onClick={() => {\n              setVidiblePopup(!visiblePopup);\n              getPhoto(id);\n            }}\n            key={id}\n            url={url}\n            id={id}\n          />\n        );\n      })}\n\n      {visiblePopup && (\n        <Modal modalPhoto={modalPhoto} setVidiblePopup={setVidiblePopup} />\n      )}\n    </ul>\n  );\n};\n\nexport default List;\n","import React, { useEffect, useState } from \"react\";\nimport List from \"./components/List\";\n\nconst App = () => {\n  const [img, setImg] = useState([]);\n  useEffect(() => {\n    fetch(`https://boiling-refuge-66454.herokuapp.com/images/`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((result) => {\n        setImg(result);\n      });\n  }, []);\n  return (\n    <div className=\"app\">\n      <h1>TEST APP</h1>\n      <List img={img} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}