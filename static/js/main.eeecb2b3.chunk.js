(this.webpackJsonpimg=this.webpackJsonpimg||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),i=n(14),o=n.n(i),r=n(3),l=function(e){var t=e.url,n=e.id,a=e.onClick;return Object(c.jsx)("li",{className:"list__item",onClick:a,children:Object(c.jsx)("img",{src:t,alt:"mainPhoto",id:n})})},j=n(4),m=n(15),u=n.n(m),b=function(e){var t=e.id,n=Object(a.useState)({name:"",text:""}),s=Object(r.a)(n,2),i=s[0],o=s[1],l=Object(a.useCallback)((function(e){e.preventDefault(),u.a.post("https://boiling-refuge-66454.herokuapp.com/images/".concat(t,"/comments"),{comment:{text:i.text},name:i.name})}),[t,i]);return Object(c.jsxs)("form",{onSubmit:l,className:"modal__inner-form",children:[Object(c.jsx)("input",{type:"text",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",value:i.name,onChange:function(e){return o(Object(j.a)(Object(j.a)({},i),{},{name:e.target.value}))}}),Object(c.jsx)("input",{type:"text",placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:i.text,onChange:function(e){return o(Object(j.a)(Object(j.a)({},i),{},{text:e.target.value}))}}),Object(c.jsx)("button",{children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})},d=n(16),h=n.n(d),O=function(e){var t=e.modalPhoto,n=e.setVidiblePopup;return Object(c.jsxs)("div",{className:"modal",children:[Object(c.jsx)("div",{className:"modal__overlay",onClick:function(){n(!1)}}),Object(c.jsxs)("div",{className:"modal__inner",children:[Object(c.jsx)("img",{src:t.url,alt:"modalPhoto",className:"modal__inner-img"}),Object(c.jsx)(b,{id:t.id}),Object(c.jsx)("ul",{className:"modal__comments",children:t.comments?t.comments.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)("time",{className:"modal__comments-date",children:h()(e.date).format("DD.MM.YYYY")}),Object(c.jsx)("p",{className:"modal__comments-text",children:e.text})]},e.id)})):null})]})]})},x=function(e){var t=e.img,n=Object(a.useState)(!1),s=Object(r.a)(n,2),i=s[0],o=s[1],j=Object(a.useState)([]),m=Object(r.a)(j,2),u=m[0],b=m[1];return Object(c.jsxs)("ul",{className:"list",children:[t.map((function(e){var t=e.url,n=e.id;return Object(c.jsx)(l,{onClick:function(){o(!i),function(e){fetch("https://boiling-refuge-66454.herokuapp.com/images/".concat(e)).then((function(e){return e.json()})).then((function(e){b(e)}))}(n)},url:t,id:n},n)})),i&&Object(c.jsx)(O,{modalPhoto:u,setVidiblePopup:o})]})},f=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){fetch("https://boiling-refuge-66454.herokuapp.com/images/").then((function(e){return e.json()})).then((function(e){s(e)}))}),[]),Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)("h1",{children:"TEST APP"}),Object(c.jsx)(x,{img:n}),Object(c.jsx)("footer",{className:"footer",children:Object(c.jsx)("p",{children:"\xa9 2018-2019"})})]})};n(39);o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.eeecb2b3.chunk.js.map